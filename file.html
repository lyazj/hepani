<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Upload</title>
  </head>
  <body>
    <h1>Upload a file</h1>
    <p>To generate animation, we need a file in which one or more hign energy physics events are stored.</p>
    <p>By now, three types of file are supported:</p>
    <ul>
      <li>
        running log from <em>pythia8</em> (
        <strong>plain text format</strong>, usually <strong>.txt</strong> or <strong>.log</strong>
        )
      </li>
      <li>
        HepMC2, storing HEP event(s) generated by <em>pythia8</em> (
        usually <strong>.hepmc</strong>
        )
      </li>
      <li>
        Hepani JSON file, downloaded by clicking <em>save</em> button at home page (
        usually <strong>animation.json</strong>
        )
      </li>
    </ul>
    <p>To go back home, <a href="javascript:shouldRequestJSON=false;writePage('/')">click here</a>.</p>
    <p>
    What you see in index page is a VBS process generated by <em>pythia8</em>.
    While running <em>pythia8</em>,
    we redirected <tt>stdout</tt> (<em>pythia8</em> uses it to output running logs) to a writable path,
    thus a valid input for animation is generated.
    All events are stored in a HepMC2 file after <em>pythia8</em> exits normally, (if so, )
    which is also a valid input to be uploaded.
    </p>
    <p>Let's have a try!</p>

    <form id="upload" action="/" method="post" enctype="multipart/form-data">
      <fieldset>
        <legend>Upload a file</legend>
        <label for="type">Select a type:</label>
        <select name="type" id="type">
          <option value="py8log" selected="selected">running log from pythia8</option>
          <option value="hepmc2">HepMC2 file</option>
          <option value="hepani">Hepani JSON file</option>
        </select>
        <br />
        <label for="input">Select a file:</label>
        <input type="file" name="input" id="input" />
        <input type="checkbox" name="gzip" id="gzip" />
        <label for="gzip">gzip</label>
        <br />
        <label for="submit">Check twice and click:</label>
        <!--
          <input type="submit" id="submit" value="upload" />
        -->
        <button onclick="return submitUpload()" id="submit">upload</button>
        <br />
      </fieldset>
    </form>

    <p>Note:
    Please check the <strong>gzip</strong> box if the file already compressed with gzip).
    If no file selected, an example of selected type will be used.</p>
    <p>
    For more information about <em>pythia8</em>, see: <a href="https://pythia.org/" target="_black">PYTHIA official site</a>.
    For help, see: <a href="coming.html" target="_black">help page</a>.
    </p>

    <script src="load.js"></script>
    <script>
      loadJS("pako.min.js")
      loadJS("io.js")
      loadJS("file.js")
    </script>
  </body>
</html>
